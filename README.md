# 🐾 TailSense

**TailSense** — интеллектуальный AI-ассистент для ветеринарных специалистов, фермеров и владельцев, предоставляющий рекомендации по диагностике и лечению заболеваний животных на основе современных технологий искусственного интеллекта и базы ветеринарных знаний.

---

## 🎯 Описание проекта

TailSense — это MVP (минимально жизнеспособный продукт) AI-помощника для ветеринарной сферы. Проект демонстрирует возможности интеграции искусственного интеллекта в ветеринарную практику, предлагая базовый функционал для получения консультаций по здоровью животных через простой веб-интерфейс.

### 🎪 Демо
![TailSense Demo](docs/image/Снимок%20экрана%202025-10-30%20в%2000.16.29.png)

---

## ✨ Основные возможности

- **📚 Обширная база знаний**: Система обучена на специализированной ветеринарной литературе в
- **⚡ Быстрый поиск информации**: Мгновенные ответы на сложные ветеринарные вопросы
- **🐕 Поддержка различных видов**: Консультации по КРС, лошадям, мелким домашним животным и экзотическим видам
- **💬 Интерактивный чат**: Удобный веб-интерфейс с историей диалогов и сессиями
- **🔧 Конфигуратор симптомов**: Структурированный ввод данных о животном и симптомах

---

## 🏗️ Архитектура системы

TailSense построен по микросервисной архитектуре и состоит из трех основных компонентов:

```
┌─────────────────────────────────────────────────────────────┐
│                    TailSense Ecosystem                      │
├─────────────────────────────────────────────────────────────┤
│  🖥️  Frontend (Streamlit)     │  📡  Backend (FastAPI)     │
│  Port: 8501                   │  Port: 8000               │
│                               │                            │
│  • Пользовательский интерфейс │  • REST API               │
│  • Чат с ИИ                   │  • Обработка запросов     │
│  • Конфигуратор животных     │  • Middleware & CORS      │
│  • Управление сессиями       │  • Валидация данных       │
└─────────────────────────────────────────────────────────────┘
                               │
                               ▼
┌─────────────────────────────────────────────────────────────┐
│            🤖 AI Agent (LangFlow)                          │
│            Port: 7860                                      │
│                                                            │
│  • Обработка ИИ-запросов                                  │
│  • RAG (Retrieval-Augmented Generation)                   │
│  • Интеграция с LLM                                       │
│  • Поиск по базе знаний                                   │
└─────────────────────────────────────────────────────────────┘
                               │
                               ▼
┌─────────────────────────────────────────────────────────────┐
│              📚 База знаний                                │
│                                                            │
│  • Ветеринарные справочники                               │
│  • Клинические руководства                                │
│  • Фармакологические данные                               │
│  • Международные стандарты                                │
└─────────────────────────────────────────────────────────────┘
```

### 📦 Компоненты системы

#### 🖥️ Frontend (Streamlit)
- **Технология**: Python Streamlit
- **Порт**: 8501
- **Функции**: 
  - Интерактивный веб-интерфейс
  - Чат с AI-ассистентом
  - Конфигуратор животных и симптомов
  - Управление историей диалогов

#### 📡 Backend (FastAPI) 
- **Технология**: Python FastAPI
- **Порт**: 8000
- **Функции**:
  - REST API для фронтенда и внешних интеграций
  - Проксирование запросов к AI-агенту
  - Валидация и обработка данных

#### 🤖 AI Agent (LangFlow)
- **Технология**: LangFlow
- **Порт**: 7860
- **Функции**:
  - Обработка запросов к ИИ
  - RAG для поиска в базе знаний
  - Генерация ответов на основе контекста
  - Управление сессиями диалогов

---

## 🚀 Установка и запуск

### 📋 Предварительные требования

- **Docker** и **Docker Compose**
- **Git** для клонирования репозитория
- Минимум **8GB RAM** для корректной работы AI-агента
- Стабильное интернет-соединение для загрузки моделей

### ⬇️ Клонирование репозитория

```bash
git clone https://github.com/yourusername/TailSense.git
cd TailSense
```

### ⚙️ Настройка окружения

1. **Настройка AI Agent**:
   ```bash
   # Создайте файл конфигурации для LangFlow
   cp agent/docker.env.example agent/docker.env
   # Отредактируйте agent/docker.env, добавив необходимые API ключи
   ```

2. **Настройка Backend** (опционально):
   ```bash
   # При необходимости создайте .env файл в папке backend
   # Все основные настройки уже прописаны в docker-compose.yaml
   ```

### 🐳 Запуск с Docker Compose

```bash
# Сборка и запуск всех сервисов
docker-compose up -d --build

# Проверка статуса сервисов
docker-compose ps

# Просмотр логов
docker-compose logs -f
```

### 🌐 Доступ к сервисам

После успешного запуска сервисы будут доступны по следующим адресам:

| Сервис | URL | Описание |
|--------|-----|----------|
| **Frontend** | http://localhost:8501 | Основной веб-интерфейс TailSense |
| **Backend API** | http://localhost:8000 | REST API для интеграций |
| **API Documentation** | http://localhost:8000/docs | Swagger документация API |
| **AI Agent** | http://localhost:7860 | LangFlow интерфейс управления |

---

## 📖 Использование

### 1. 🏠 Главная страница
Запустите приложение и перейдите на http://localhost:8501. Вы увидите экран приветствия с описанием возможностей системы.

### 2. ⚙️ Конфигуратор
- Выберите тип животного из предустановленного списка или введите свой вариант
- Укажите наблюдаемые симптомы с помощью удобного интерфейса
- Добавьте дополнительную информацию при необходимости

### 3. 💬 Чат с ИИ-ассистентом
- Задавайте вопросы на естественном языке
- Получайте детальные профессиональные консультации
- История диалога сохраняется в рамках сессии
- Контекст беседы учитывается в последующих ответах

### 4. 📊 Примеры запросов

```
❓ "Какие причины могут вызывать хромоту у коров?"

❓ "Дозировка амоксициллина для кошки весом 4 кг при инфекции мочевыводящих путей"

❓ "Дифференциальная диагностика рвоты у собак"

❓ "Протокол лечения мастита у коров"
```

---

### 📁 Структура проекта

```
TailSense/
├── 🖥️ frontend/              # Streamlit приложение
│   ├── app.py                # Основной файл приложения
│   ├── screens/              # Экраны интерфейса
│   ├── components/           # UI компоненты
│   ├── utils/               # Утилиты и API клиент
│   └── requirements.txt     # Зависимости Python
│
├── 📡 backend/               # FastAPI сервер
│   ├── main.py              # Основной API сервер
│   ├── models.py            # Pydantic модели
│   ├── config.py            # Конфигурация
│   └── requirements.txt     # Зависимости Python
|
|–– docs/
|   |–– slides               # Презентация проекта
│
├── 🤖 agent/                 # LangFlow AI агент
│   ├── flows/               # Конфигурация потоков
│   ├── data/                # Данные агента
│   └── docker.env           # Переменные окружения
│
├── 📚 data_source/           # База знаний
│   ├── papers/              # Ветеринарная литература
│   └── web/                 # Веб-источники
│
├── 📊 notebooks/             # Jupyter ноутбуки
│   ├── RAG.ipynb           # Разработка RAG системы
│   └── benchmark.ipynb     # Тестирование и бенчмарки
│
├── 🐳 docker-compose.yaml   # Оркестрация сервисов
└── 📖 README.md             # Документация проекта
```

---

## 📊 API Документация

### 🔍 Основные эндпоинты

#### `POST /api/v1/chat`
Отправка сообщения AI-ассистенту

**Запрос:**
```json
{
  "input_value": "Какие симптомы характерны для мастита у коров?",
  "session_id": "optional-session-id",
  "output_type": "chat",
  "input_type": "chat"
}
```

**Ответ:**
```json
{
  "message": "Мастит у коров характеризуется следующими симптомами...",
  "session_id": "550e8400-e29b-41d4-a716-446655440000"
}
```

#### `GET /health`
Проверка состояния сервиса

**Ответ:**
```json
{
  "status": "healthy",
  "timestamp": "2025-10-30T00:00:00.000Z",
  "version": "1.0.0"
}
```

### 📚 Полная документация
Полная интерактивная документация API доступна по адресу: http://localhost:8000/docs

---

## 📄 Лицензия

Проект распространяется под лицензией MIT. Подробности в файле [LICENSE](LICENSE).

---

## 👥 Авторы

- **Разработчики**: Гаттаров Тимур, Маталыцкий Иван
---

## 📞 Поддержка и контакты

- **Email**: timur291204@yandex.ru
- **GitHub Issues**: [Создать тикет](https://github.com/timur2912/TailSense/issues)

*Сделано с ❤️ для ветеринарных специалистов*

[⭐ Поставьте звезду](https://github.com/timur2912/TailSense) если проект вам понравился!

</div>